{"version":3,"sources":["withRoot.tsx","actions/index.ts","actions/genericHttpAction.ts","actions/build.ts","actions/favourite.ts","components/BranchBuild.tsx","components/RouterListItem.tsx","components/Drawer.tsx","actions/filter.ts","components/Form/CategoryFilter.tsx","components/Form/TitleFilter.tsx","components/Form/ReleaseLineFilter.tsx","components/Form/FormDialog.tsx","components/Form/BuildForm.tsx","components/Favourite.tsx","selectors/useFavourite.ts","components/ModuleCard.tsx","components/Build.tsx","components/ResultLoader.tsx","selectors/filterModuleByCategory.ts","selectors/latestBranchFilter.ts","selectors/useBuilds.ts","selectors/useSearching.ts","pages/HomePage.tsx","pages/StatsPage.tsx","selectors/useStats.ts","selectors/useCompares.ts","components/MergeupBranch.tsx","components/Mergeup.tsx","pages/ComparePage.tsx","actions/mergeups.ts","actions/unrelease.ts","Routes.tsx","App.tsx","reducers/createReducer.ts","reducers/Build/initalState.ts","reducers/Build/reducer.ts","reducers/filters.ts","reducers/compare.ts","reducers/mergeups.ts","reducers/unreleases.ts","reducers/favourites.ts","configureStore.tsx","reducers/index.ts","ReduxRoot.tsx","index.tsx"],"names":["theme","createMuiTheme","palette","primary","light","main","dark","contrastText","secondary","type","useActions","actions","deps","dispatch","useDispatch","useMemo","Array","isArray","map","a","bindActionCreators","genericHttpAction","url","loadingActionType","loadedActionType","fetch","process","method","then","response","json","data","lastModified","headers","has","get","undefined","payload","BuildActions","initBuildData","LOADING_BUILDS","BUILD_LOADED","Actions","currentFavs","favs","localStorage","getItem","split","initFavourite","INIT_FAV","toggleFavourite","fav","idx","indexOf","push","splice","setItem","join","console","dir","buildStateColours","failed","errored","passed","running","created","started","expired","canceled","variantByState","BranchBuild","module","branch","build","id","state","classes","useStyles","Button","href","variant","className","branchBtn","makeStyles","props","background","property","mapping","styledBy","margin","flexGrow","textDecoration","RouterListItem","Icon","route","title","history","useHistory","onClick","classnames","active","location","pathname","ListItem","button","ListItemIcon","ListItemText","states","legendStyles","legend","width","height","borderRadius","Drawer","useSelector","builds","ago","Math","round","Date","getTime","root","drawerHeader","Typography","Divider","List","HomeIcon","MergeTypeIcon","NewReleasesIcon","PieChartIcon","component","ListSubheader","key","drawerSpacer","badge","src","alt","mixins","toolbar","display","justifyContent","alignItems","drawerPaper","backgroundColor","default","breakpoints","up","position","minHeight","flexDirection","padding","spacing","setFilter","filter","SET_FILTER","toggleDialog","TOGGLE_DIALOG","clearFilters","CLEAR_FILTERS","setTerm","term","triggerSearchTimeout","setTimeout","TRIGGER_SEARCH","SET_TERM","setCategoryFilter","categoryFilters","SET_CATEGORY_FILTER","categories","core","supported","unsupported","nonmodule","CategoryFilter","ReduxActions","filters","FormControl","InputLabel","color","Select","labelId","multiple","value","onChange","event","target","input","Input","renderValue","selected","Object","keys","MenuItem","Checkbox","checked","maxWidth","TitleFilter","partialTerm","TextField","label","style","ReleaseLineFilter","releases","startsWith","FormDialog","dialogOpen","Dialog","open","onClose","fullWidth","aria-labelledby","DialogTitle","DialogContent","FormGroup","cat","DialogActions","BuildForm","useModal","useMediaQuery","down","row","IconButton","aria-label","Favourite","name","isFavourite","toggle","favourites","useFavourite","Ico","StarIcon","StarBorderIcon","preventDefault","fontSize","minWidth","ModuleCard","children","org","match","meta","ssData","find","repo","displayName","subheader","headerProps","avatar","Avatar","substring","toUpperCase","action","header","Grid","item","xs","sm","md","lg","Card","box","CardHeader","CardContent","textAlign","text","modTitle","Build","branches","length","cardActions","flexWrap","NoResult","ResultLoader","loading","results","empty","CircularProgress","size","filterModuleByCategory","moduleName","moduleMetaDada","ssModuleData","includes","removeNulls","latestBranchFilter","mod","nextBranches","nextMajor","nextMinor","parseInt","reduce","b","max","toString","patches","RegExp","replace","trim","sort","slice","subVersion","nextPatch","previousPatch","values","statePriority","sortByState","stateGroups","moduleBranchFilter","moduleBranchFilterByReleaseLine","repoName","releaseName","releaseLine","SSModules","moduleVersion","branchStateReduce","accumulator","postProcess","stateSort","localeCompare","sortModule","useBuilds","modules","useSearching","HomePage","isSearching","favModules","otherModules","centerContainer","container","direction","justify","paddingTop","paddingLeft","paddingRight","marginBottom","marginTop","labels","buildData","stats","datasets","StatsPage","forEach","useStats","count","branchFilter","compares","branchKey","compare","aUpToDate","ahead_by","bUpToDate","useCompares","compareKey","compareList","MergeupBranch","head","base","upToDate","status","range","Mergeup","ComparePage","stateKey","initAction","initData","React","MergeupActions","initMergeupData","LOADING","LOADED","UnreleaseActions","initUnreleaseData","Routes","exact","path","overflow","zIndex","appFrame","appBar","drawer","appForm","navIconHide","drawerRoot","withRoot","Component","buildActions","FavActions","mobileOpen","setMobileOpen","isMobile","basename","paper","ModalProps","keepMounted","AppBar","Toolbar","ThemeProvider","CssBaseline","createReducer","initialState","handlers","hasOwnProperty","markExpiredBuild","buildDate","started_at","now","expiry","setDate","getDate","clearTimeout","toLocaleLowerCase","compareReducer","loadingAction","loadedAction","mergeups","unreleases","persistConfig","version","storage","localforage","blacklist","createLogger","createBrowserHistory","middleware","applyMiddleware","thunk","persistedReducer","persistReducer","combineReducers","persistor","store","createStore","persistStore","configureStore","ReduxRoot","rootEl","document","getElementById","ReactDOM"],"mappings":"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","file":"static/js/main.5df1b44a.chunk.js","sourcesContent":["import { CssBaseline } from \"@material-ui/core\";\nimport { createMuiTheme } from \"@material-ui/core/styles\";\nimport { ThemeProvider } from \"@material-ui/styles\";\nimport * as React from \"react\";\n\n// A theme with custom primary and secondary color.\n// It's optional.\nconst theme = createMuiTheme({\n\tpalette: {\n\t\tprimary: {\n\t\t\tlight: \"#e5e5e5\",\n\t\t\tmain: \"#727272\",\n\t\t\tdark: \"#363839\",\n\t\t\tcontrastText: \"#fff\",\n\t\t},\n\t\tsecondary: {\n\t\t\tlight: \"#005AE1\",\n\t\t\tmain: \"#0F3287\",\n\t\t\tdark: \"#051E2D\",\n\t\t\tcontrastText: \"#fff\",\n\t\t},\n\t\ttype: 'dark'\n\t},\n});\n\nexport function withRoot(Component: any) {\n\tfunction WithRoot(props: object) {\n\t\t// MuiThemeProvider makes the theme available down the React tree\n\t\t// thanks to React context.\n\t\treturn (\n\t\t\t<ThemeProvider theme={theme}>\n\t\t\t\t{/* Reboot kickstart an elegant, consistent, and simple baseline to build upon. */}\n\t\t\t\t<CssBaseline />\n\t\t\t\t<Component {...props} />\n\t\t\t</ThemeProvider>\n\t\t);\n\t}\n\n\treturn WithRoot;\n}\n","import { useMemo } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { BuildAction } from \"./build\";\nimport { Action as FilterAction} from './filter';\nimport { Action as FavouriteAction} from './favourite';\n\nexport function useActions(actions: any, deps?: any): any {\n\tconst dispatch = useDispatch();\n\treturn useMemo(\n\t\t() => {\n\t\t\tif (Array.isArray(actions)) {\n\t\t\t\treturn actions.map(a => bindActionCreators(a, dispatch));\n\t\t\t}\n\t\t\treturn bindActionCreators(actions, dispatch);\n\t\t},\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t\tdeps ? [dispatch, ...deps] : deps\n\t);\n}\n\nexport type Action =\n  | BuildAction\n  | FilterAction\n  | FavouriteAction\n;\n","import { CompareData } from \"../model\";\n\nexport interface DataPayload<T> {\n  json: T\n  lastModified: string\n}\n\nexport type ActionType<t,p> = {\n  type: t\n  payload: p\n}\n\ninterface reduxAction {\n\ttype: string,\n\tpayload?: any\n}\n\ntype dispatchCallback = (action: reduxAction) => void;\n\n/**\n * Generate a generic redux action to fetch a JSON file\n * @param url\n * @param loadingActionType\n * @param loadedActionType\n */\nexport function genericHttpAction(url: string, loadingActionType: string, loadedActionType: string) {\n  return () => (\n    (dispatch: dispatchCallback) => {\n      dispatch({type: loadingActionType});\n\n      fetch(process.env.PUBLIC_URL + `/${url}.json`, {method: 'GET'})\n        .then((response) => response.json().then((data) => ({\n        json: data,\n        lastModified: response.headers.has('last-modified') ?\n          response.headers.get('last-modified') as string :\n          undefined\n          })))\n        .then(data => dispatch({type: loadedActionType, payload: data}));\n\n    }\n  );\n}\n\n/**\n * Payload for MergeUp/unrelease\n */\nexport interface CompareDataPayload extends  DataPayload<CompareData> {};\n","import { BuildData } from \"../model\";\nimport { genericHttpAction, DataPayload, ActionType } from \"./genericHttpAction\";\n\nexport interface BuildDataPayload extends  DataPayload<BuildData> {};\n\nexport enum BuildActions {\n  LOADING_BUILDS = \"LOADING_BUILDS\",\n  BUILD_LOADED = \"BUILD_LOADED\",\n}\n\nexport type BuildAction =\n  | ActionType<typeof BuildActions.LOADING_BUILDS, void>\n  | ActionType<typeof BuildActions.BUILD_LOADED, BuildDataPayload>\n;\n\nexport const initBuildData = genericHttpAction(\n  'buildData',\n  BuildActions.LOADING_BUILDS,\n  BuildActions.BUILD_LOADED\n);\n","import { ActionType } from \"../reducers/ActionTypes\";\n\nexport enum Actions {\n  INIT_FAV = \"INIT_FAV\"\n}\n\nexport type Action =\n  | ActionType<typeof Actions.INIT_FAV, string[]>\n;\n\nconst FAVOURITES = 'FAVOURITES';\n\nfunction currentFavs(): string[] {\n  const favs = localStorage.getItem(FAVOURITES);\n  return favs?.split(',') || [];\n}\n\nexport function initFavourite() {\n  return {type: Actions.INIT_FAV, payload: currentFavs()}\n}\n\nexport function toggleFavourite(fav: string) {\n  const favs = currentFavs();\n\n  const idx = favs.indexOf(fav);\n\n  if (idx === -1) {\n    favs.push(fav)\n  } else {\n    favs.splice(idx, 1);\n  }\n\n  localStorage.setItem(FAVOURITES, favs.join(','));\n\n  console.dir(favs)\n\n\treturn {type: Actions.INIT_FAV, payload: favs};\n}\n","import { makeStyles, Button } from \"@material-ui/core\";\nimport * as React from \"react\";\nimport {BuildStateType} from \"../model/build\";\n\nexport const buildStateColours: { [state in BuildStateType]: string } = {\n\tfailed: \"#FE6B8B\",\n\terrored: \"#FE6B8B\",\n\tpassed: \"#61b047\",\n\trunning: \"#fede6b\",\n\tcreated: \"#fede6b\",\n\tstarted: \"#fede6b\",\n\texpired: \"#6b8bfe\",\n\tcanceled: \"#ad495e\",\n};\n\ninterface Props {\n\tmodule: string,\n\tbranch: string,\n\tbuild: {\n\t\tid: number,\n\t\tstate: string\n\t}\n}\n\nconst variantByState: any = {\n\terrored: 'contained',\n\tfailed: 'contained',\n\tpassed: 'outlined',\n\tcreated:  'contained',\n\tstarted:  'contained',\n\trunning:  'contained',\n}\n\nexport function BranchBuild({module, branch, build: {id, state}}: Props) {\n\tconst classes = useStyles({state});\n\treturn <Button\n\t\thref={`https://travis-ci.com/github/${module}/builds/${id}`}\n\t\tvariant={variantByState[state]}\nclassName={classes.branchBtn}>{branch}</Button>;\n}\n\nconst styledBy = (property: string, props: any, mapping: any): string =>\n\tmapping[props[property]];\n\nconst useStyles = makeStyles(({\n\tbranchBtn: props => {\n\t\tconst background = styledBy('state', props, buildStateColours)\n\t\treturn {\n\t\t\tmargin: '0 8px 8px 0',\n\t\t\tflexGrow: 1,\n\t\t\tbackground,\n\t\t\ttextDecoration: 'none',\n\t\t\t'&:hover': { background }\n\t\t}\n\t},\n}));\n","// prettier-ignore\nimport { ListItem, ListItemIcon, ListItemText } from \"@material-ui/core\";\nimport { Theme } from \"@material-ui/core/styles\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport * as React from \"react\";\nimport { useHistory } from 'react-router-dom';\nimport classnames from \"classnames\";\n\n\ninterface Props {\n  Icon: React.ElementType,\n  route: string,\n  title: string\n}\n\nexport function RouterListItem({Icon, route, title}: Props) {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const props = {\n    onClick: () => history.push(route),\n    className: classnames({[classes.active]: history.location.pathname === route})\n  }\n\n\treturn (\n\t\t\t\t<ListItem button {...props}>\n\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t<Icon />\n\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t<ListItemText primary={title} />\n\t\t\t\t</ListItem>\n  )\n}\nconst useStyles = makeStyles((theme: Theme) => ({\n  active: {\n    background: theme.palette.secondary.main,\n    \"&:hover\": {\n      background: theme.palette.secondary.light\n    }\n  }\n}));\n","// prettier-ignore\nimport { Divider, List, ListItem, ListItemIcon, ListItemText, ListSubheader, Typography } from \"@material-ui/core\";\nimport { Theme } from \"@material-ui/core/styles\";\nimport HomeIcon from \"@material-ui/icons/Home\";\nimport PieChartIcon from '@material-ui/icons/PieChart';\nimport GitHub from \"@material-ui/icons/GitHub\";\nimport MergeTypeIcon from '@material-ui/icons/MergeType';\nimport UpdateIcon from '@material-ui/icons/Update';\nimport NewReleasesIcon from '@material-ui/icons/NewReleases';\nimport { makeStyles } from \"@material-ui/styles\";\nimport * as React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { RootState } from \"../reducers/index\";\nimport { BuildStateType } from \"../model\";\nimport { buildStateColours } from './BranchBuild';\nimport { RouterListItem } from \"./RouterListItem\";\n\nconst states: BuildStateType[] = [\n\t'failed',\n\t'canceled',\n\t'expired',\n\t'running',\n\t'passed'\n];\n\nconst styledBy = (property: string, props: any, mapping: any): string =>\n\tmapping[props[property]]\n\nconst legendStyles = makeStyles({\n\tlegend: props => ({\n\t\tbackground: styledBy('state', props, buildStateColours),\n\t\twidth: 24,\n\t\theight: 24,\n\t\tborderRadius: 3\n\t})\n});\n\nexport function Drawer(props: {  }) {\n\tconst classes = useStyles();\n  const lastModified = useSelector((state: RootState) => state.builds.lastModified);\n  const ago = lastModified ?\n\t    `Fetched ${Math.round(((new Date()).getTime() - new Date(lastModified).getTime()) / 1000 / 60)} min ago` :\n\t\t'';\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<div className={classes.drawerHeader}>\n        <Typography variant=\"h6\">CMS Squad Dashboard</Typography>\n      </div>\n\t\t\t<Divider />\n\t\t\t<List>\n        <RouterListItem route=\"/\" Icon={HomeIcon} title=\"Builds\" />\n\t\t\t\t<RouterListItem route=\"/mergeups\" Icon={MergeTypeIcon} title=\"Merge ups\" />\n        <RouterListItem route=\"/unreleases\" Icon={NewReleasesIcon} title=\"Unrelease\" />\n        <RouterListItem route=\"/stats\" Icon={PieChartIcon} title=\"Stats\" />\n\n\t\t\t\t<ListItem component=\"a\" button href=\"https://github.com/maxime-rainville/travis-dashboard/\">\n\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t<GitHub />\n\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t<ListItemText primary=\"View Source\" />\n\t\t\t\t</ListItem>\n\t\t\t\t<ListItem component=\"a\" button href=\"https://github.com/maxime-rainville/travis-dashboard/actions?query=workflow%3A%22Build+and+Deploy%22\">\n\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t<UpdateIcon />\n\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t<ListItemText primary=\"Refresh data\" secondary={ago} />\n\t\t\t\t</ListItem>\n\t\t\t</List>\n\t\t\t<List>\n\t\t\t\t<ListSubheader>Legend</ListSubheader>\n\t\t\t\t{\n\t\t\t\t\tstates.map(state => (\n\t\t\t\t\t\t<ListItem key={state}>\n\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t<span className={legendStyles({state}).legend}></span>\n\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t<ListItemText primary={state} />\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t))\n\t\t\t\t}\n\t\t\t</List>\n      <div className={classes.drawerSpacer}></div>\n      <a className={classes.badge} href=\"https://github.com/maxime-rainville/travis-dashboard/actions/workflows/main.yml\">\n        <img src=\"https://github.com/maxime-rainville/travis-dashboard/actions/workflows/main.yml/badge.svg\" alt=\"Workflow status badge\" height=\"20\" />\n      </a>\n\t\t</div>\n\t);\n}\nconst drawerWidth = 240;\nconst useStyles = makeStyles((theme: Theme) => ({\n\tdrawerHeader: {\n    ...theme.mixins.toolbar,\n    background: theme.palette.primary.main,\n    display: 'flex',\n\t  justifyContent: 'center',\n\t  alignItems: 'center'\n  },\n\tdrawerPaper: {\n\t\twidth: 250,\n\t\tbackgroundColor: theme.palette.background.default,\n\t\t[theme.breakpoints.up(\"md\")]: {\n\t\t\twidth: drawerWidth,\n\t\t\tposition: \"relative\",\n\t\t\theight: \"100%\",\n\t\t},\n\t},\n\troot: {\n\t\tminHeight: '100%',\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'column'\n\t},\n\tdrawerSpacer: {\n\t\tflexGrow: 1\n\t},\n  badge: {\n    padding: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n  }\n}));\n","import { ActionType } from \"../reducers/ActionTypes\";\nimport { CategoryFilterType } from \"../reducers/filters\";\n\nexport interface SetTermPayload {\n  term: string,\n  triggerSearchTimeout: NodeJS.Timeout\n}\n\nexport interface SetFilterPayload {\n  filter: string\n}\n\nexport interface SetCatPayload {\n  categoryFilters: CategoryFilterType[]\n}\n\nexport enum Actions {\n  LOADING_BUILDS = \"LOADING_BUILDS\",\n  BUILD_LOADED = \"BUILD_LOADED\",\n  SET_FILTER = \"SET_FILTER\",\n  SET_TERM = \"SET_TERM\",\n  TRIGGER_SEARCH = \"TRIGGER_SEARCH\",\n  SET_CATEGORY_FILTER = \"SET_CATEGORY_FILTER\",\n  CLEAR_FILTERS = \"CLEAR_FILTERS\",\n  TOGGLE_DIALOG = \"TOGGLE_DIALOG\",\n}\n\nexport type Action =\n  | ActionType<typeof Actions.SET_FILTER, SetFilterPayload>\n  | ActionType<typeof Actions.SET_TERM, SetTermPayload>\n  | ActionType<typeof Actions.TRIGGER_SEARCH, undefined>\n  | ActionType<typeof Actions.SET_CATEGORY_FILTER, SetCatPayload>\n  | ActionType<typeof Actions.TOGGLE_DIALOG, undefined>\n  | ActionType<typeof Actions.CLEAR_FILTERS, undefined>\n;\n\nexport function setFilter(filter: string) {\n  return {type: Actions.SET_FILTER, payload: {filter}}\n}\n\nexport function toggleDialog() {\n\treturn {type: Actions.TOGGLE_DIALOG}\n}\n\nexport function clearFilters() {\n\treturn {type: Actions.CLEAR_FILTERS}\n}\n\ntype dispatchCallback = (action: Action) => void;\n\nexport function setTerm(term: string) {\n\treturn (dispatch: dispatchCallback) => {\n\t\tconst triggerSearchTimeout = setTimeout(() => {\n\t\t\tdispatch({type: Actions.TRIGGER_SEARCH, payload: undefined});\n\t\t}, 500)\n\n\t\tdispatch({\n\t\t\ttype: Actions.SET_TERM,\n\t\t\tpayload:{\n\t\t\t\tterm,\n\t\t\t\ttriggerSearchTimeout\n\t\t\t}\n\t\t});\n\t}\n}\n\nexport function setCategoryFilter(categoryFilters: CategoryFilterType[]) {\n\treturn {type: Actions.SET_CATEGORY_FILTER, payload: {categoryFilters}}\n}\n","import { makeStyles, FormControl, InputLabel, Select, Input, MenuItem, Checkbox, ListItemText} from \"@material-ui/core\";\nimport * as React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useActions } from \"../../actions\";\nimport * as ReduxActions from \"../../actions/filter\";\nimport { RootState } from \"../../reducers\";\nimport { CategoryFilterType } from \"../../reducers/filters\";\nimport classnames from \"classnames\";\n\ninterface Props {\n\tclassName?: string\n}\n\n\nconst categories: {[key in CategoryFilterType]: string} = {\n\tcore: 'Core',\n\tsupported: 'Supported',\n\tunsupported: 'Unsupported',\n\tnonmodule: 'Non-module'\n}\nexport function CategoryFilter({className}: Props) {\n\tconst {setCategoryFilter} = useActions(ReduxActions);\n\tconst {categoryFilters} = useSelector((state: RootState) => state.filters);\n  const classes = useStyles();\n\n  if (!categoryFilters) {\n    return null;\n  }\n\n  return (\n\t\t<FormControl className={classnames(className, classes.root)}>\n        <InputLabel id=\"demo-mutiple-checkbox-label\" color=\"secondary\">Category</InputLabel>\n        <Select\n          labelId=\"demo-mutiple-checkbox-label\"\n          id=\"demo-mutiple-checkbox\"\n          multiple\n          value={categoryFilters}\n          onChange={(event) => setCategoryFilter(event.target.value)}\n          input={<Input />}\n          renderValue={(selected) => (selected as CategoryFilterType[]).map(key => categories[key]).join(', ')}\n        >\n          {Object.keys(categories).map((key) => (\n            <MenuItem key={key} value={key}>\n              <Checkbox checked={categoryFilters.indexOf(key as CategoryFilterType) > -1} />\n              <ListItemText primary={categories[(key as CategoryFilterType)]} />\n            </MenuItem>\n          ))}\n        </Select>\n      </FormControl>\n\t);\n}\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n    margin: theme.spacing(1),\n    maxWidth: '100%'\n  },\n}));\n","import { TextField } from \"@material-ui/core\";\nimport * as React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useActions } from \"../../actions\";\nimport * as ReduxActions from \"../../actions/filter\";\nimport { RootState } from \"../../reducers\";\n\n\ninterface Props {\n\tclassName?: string\n}\n\nexport function TitleFilter({className}: Props) {\n\tconst {setTerm} = useActions(ReduxActions);\n\tconst {partialTerm} = useSelector((state: RootState) => state.filters);\n\treturn (\n\t\t<TextField\n      label=\"Filter by name\" variant=\"filled\" color=\"secondary\"\n      onChange={event => setTerm(event.target.value)} className={className} value={partialTerm}\n      style={{maxWidth: '100%'}} />\n\t);\n}\n","import { makeStyles, FormControl, InputLabel, Select, Input, MenuItem, ListSubheader} from \"@material-ui/core\";\nimport * as React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useActions } from \"../../actions\";\nimport * as ReduxActions from \"../../actions/filter\";\nimport { RootState } from \"../../reducers\";\nimport classnames from \"classnames\";\nimport {releases}  from 'silverstripe-cms-meta';\n\ninterface Props {\n\tclassName?: string\n}\n\n\nexport function ReleaseLineFilter({className}: Props) {\n\tconst {setFilter} = useActions(ReduxActions);\n\tconst {filter} = useSelector((state: RootState) => state.filters);\n  const classes = useStyles();\n\n  return (\n\t\t<FormControl className={classnames(className, classes.root)}>\n        <InputLabel color=\"secondary\">Releases</InputLabel>\n        <Select\n          value={filter}\n          onChange={(event) => setFilter(event.target.value as string)}\n          input={<Input />}\n          // renderValue={(selected) => (selected as CategoryFilterType[]).map(key => categories[key]).join(', ')}\n        >\n          <MenuItem value=\"all\">All</MenuItem>\n          <MenuItem value=\"latestStable\">Latest only</MenuItem>\n\n          <ListSubheader>Silverstripe CMS</ListSubheader>\n          {Object.keys(releases).filter(key => key.startsWith('Silverstripe CMS')).map((key) => (\n            <MenuItem key={key} value={key}>{key}</MenuItem>\n          ))}\n\n          <ListSubheader>Sink</ListSubheader>\n          {Object.keys(releases).filter(key => key.startsWith('CWP') || key.startsWith('Silverstripe Sink')).map((key) => (\n            <MenuItem key={key} value={key}>{key}</MenuItem>\n          ))}\n        </Select>\n      </FormControl>\n\t);\n}\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n    margin: theme.spacing(1),\n    maxWidth: '100%'\n  },\n}));\n","import { makeStyles, FormGroup, Theme, Dialog, DialogTitle, DialogContent, DialogActions, Button } from \"@material-ui/core\";\nimport * as React from \"react\";\nimport { CategoryFilter } from \"./CategoryFilter\";\nimport { TitleFilter } from \"./TitleFilter\";\nimport { useSelector } from \"react-redux\";\nimport { RootState } from \"../../reducers\";\nimport * as ReduxActions from \"../../actions/filter\";\nimport { useActions } from \"../../actions\";\nimport { ReleaseLineFilter } from \"./ReleaseLineFilter\";\n\ninterface Props {\n\tclassName?: string\n}\n\nexport function FormDialog({className}: Props) {\n\tconst classes = useStyles();\n  const {dialogOpen} = useSelector((state: RootState) => state.filters);\n  const {toggleDialog, clearFilters} = useActions(ReduxActions);\n  return (\n\t\t<Dialog open={dialogOpen} onClose={toggleDialog} fullWidth aria-labelledby=\"form-dialog-title\">\n      <DialogTitle id=\"form-dialog-title\">Advanced Filters</DialogTitle>\n      <DialogContent>\n        <FormGroup>\n          <TitleFilter className={classes.term} />\n          <CategoryFilter className={classes.cat} />\n          <ReleaseLineFilter />\n        </FormGroup>\n      </DialogContent>\n      <DialogActions>\n          <Button onClick={toggleDialog}>\n            Done\n          </Button>\n          <Button onClick={clearFilters} color=\"primary\">\n            Clear\n          </Button>\n        </DialogActions>\n    </Dialog>\n\t);\n}\n\nconst useStyles = makeStyles((theme: Theme) => ({\n\tterm: {\n\t\tflexGrow: 1,\n    [theme.breakpoints.up(\"lg\")]: {\n\t\t\tflexGrow: .7,\n\t\t},\n  },\n  cat: {\n    flexGrow: .3\n  },\n\troot: {\n\n\t}\n\n}));\n","import { makeStyles, FormGroup, useMediaQuery, Theme, IconButton } from \"@material-ui/core\";\nimport * as React from \"react\";\nimport { CategoryFilter } from \"./CategoryFilter\";\nimport FilterListIcon from '@material-ui/icons/FilterList';\nimport { TitleFilter } from \"./TitleFilter\";\nimport { ReleaseLineFilter } from \"./ReleaseLineFilter\";\nimport { FormDialog } from \"./FormDialog\";\nimport * as ReduxActions from \"../../actions/filter\";\nimport { useActions } from \"../../actions\";\n\ninterface Props {\n\tclassName?: string\n}\n\nexport function BuildForm({className}: Props) {\n\tconst classes = useStyles();\n  const {toggleDialog} = useActions(ReduxActions);\n  const useModal = useMediaQuery((theme: Theme) =>\n  theme.breakpoints.down(\"md\")\n  );\n\treturn (\n    <React.Fragment>\n      <FormGroup row className={`${className} ${classes.root}`}>\n        <TitleFilter className={classes.term} />\n        {!useModal && <CategoryFilter className={classes.cat} /> }\n        {!useModal &&  <ReleaseLineFilter /> }\n        {useModal && <IconButton aria-label=\"Advanced search filter\" onClick={toggleDialog}><FilterListIcon /></IconButton> }\n      </FormGroup>\n      <FormDialog />\n    </React.Fragment>\n\t);\n}\n\nconst useStyles = makeStyles((theme: Theme) => ({\n\tterm: {\n\t\tflexGrow: 1,\n    [theme.breakpoints.up(\"lg\")]: {\n\t\t\tflexGrow: .7,\n\t\t},\n  },\n  cat: {\n    flexGrow: .3,\n    width: 250\n  },\n\troot: {\n\t}\n\n}));\n","import { makeStyles, Theme, Button } from \"@material-ui/core\";\nimport * as React from \"react\";\nimport { useFavourite } from \"../selectors/useFavourite\";\nimport StarIcon from '@material-ui/icons/Star';\nimport StarBorderIcon from '@material-ui/icons/StarBorder';\n\ninterface Props {\n  name: string\n}\n\nexport function Favourite({name}: Props) {\n  const classes = useStyles();\n  const {isFavourite, toggle} = useFavourite(name);\n  const Ico = isFavourite ? StarIcon : StarBorderIcon;\n\n\treturn (\n\t\t<Button className={classes.root} onClick={(event) => {event.preventDefault(); toggle();}} >\n      <Ico fontSize=\"small\"/>\n    </Button>\n\t);\n}\n\nconst useStyles = makeStyles((theme: Theme) => ({\n\troot: {\n\t\tminWidth: 0\n\t},\n}));\n","import { useSelector } from \"react-redux\";\nimport { RootState } from \"../reducers\";\nimport { useActions } from \"../actions\";\nimport * as ReduxActions from \"../actions/favourite\";\n\nexport function useFavourite(module: string) {\n  const favourites = useSelector((state: RootState) => state.favourites);\n  const { toggleFavourite } = useActions(ReduxActions);\n\n  return {\n    toggle: () => toggleFavourite(module),\n    isFavourite: favourites.indexOf(module) !== -1\n  }\n\n}\n","import { makeStyles, Theme, Card, CardContent, Grid, CardHeader, Avatar } from \"@material-ui/core\";\nimport * as React from \"react\";\nimport { Favourite } from \"./Favourite\";\nimport classnames from \"classnames\";\nimport {data as ssData} from \"silverstripe-cms-meta\";\n\ninterface Props {\n  name: string\n  children: React.ReactNode\n  url: string\n  className?: string\n}\n\nexport function ModuleCard({name, children, url, className}: Props) {\n  const classes = useStyles();\n  const [ , org] = name.match(/(.+)\\/.+/) as string[];\n\n  const meta = ssData.find(({repo}) => repo === name);\n  const displayName = meta?.name || name;\n  const [ , subheader, title] = displayName.match(/(.+)\\/(.+)/) as string[];\n  const headerProps = {\n    avatar: <Avatar\n      src={`https://github.com/${org}.png`}\n      alt={displayName} variant=\"rounded\"\n      className={classes.avatar}>{displayName.substring(0,1).toUpperCase()}</Avatar>,\n    action: <Favourite name={name} />,\n    subheader,\n    title,\n    className: classes.header\n  };\n\treturn (\n\t\t<Grid item xs={12} sm={6} md={4} lg={3}>\n\t\t\t<a href={url} style={{textDecoration: 'none'}}>\n\t\t\t\t<Card className={classnames(classes.box, className)}>\n          <CardHeader {...headerProps}></CardHeader>\n\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t{children}\n\t\t\t\t\t</CardContent>\n\t\t\t\t</Card>\n\t\t\t</a>\n\t\t</Grid>\n\t);\n}\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  header: {\n    textAlign: 'left'\n  },\n  box: {\n\t\tborderRadius: 8,\n\t\ttextDecoration: 'none',\n\t},\n\n\ttext: {\n\t\tcolor: \"white\",\n\t},\n\n\tmodTitle: {\n    display: 'flex',\n    alignItems: 'flex-start',\n    textAlign: 'left',\n    \"& > :first-child\": {\n      flexGrow: 1\n    }\n  },\n\n  avatar: {\n    background: 'white'\n  }\n\n}));\n","import { makeStyles, Theme } from \"@material-ui/core\";\nimport * as React from \"react\";\nimport { Module } from \"../model\";\nimport { BranchBuild, buildStateColours } from './BranchBuild';\nimport { ModuleCard } from \"./ModuleCard\";\n\nexport function Build({name, branches, state}: Module) {\n  const classes = useStyles({state});\n\n  if (Object.keys(branches).length === 0) {\n    return null;\n  }\n\n\treturn (\n\t\t<ModuleCard name={name} url={`https://travis-ci.com/github/${name}/branches`} className={classes.box}>\n      <div className={classes.cardActions}>\n\t\t\t\t{Object.keys(branches).map(branch => <BranchBuild module={name} branch={branch} key={branch} build={branches[branch]} />)}\n\t\t\t\t</div>\n    </ModuleCard>\n\t);\n}\n\nconst useStyles = makeStyles((theme: Theme) => ({\n\tbox: (props: any) => ({\n\t\tbackground: props['state'] === 'passed' ? buildStateColours.passed : undefined\n\t}),\n\n\tbranchBtn: {\n\t\tmargin: '0 8px 8px 0',\n\t\tflexGrow: 1\n\t},\n\n\tcardActions: {\n\t\tflexWrap: 'wrap',\n\t\tdisplay: 'flex'\n  },\n}));\n","import { CircularProgress, Typography } from \"@material-ui/core\";\nimport SentimentDissatisfiedIcon from '@material-ui/icons/SentimentDissatisfied';\nimport { makeStyles } from \"@material-ui/styles\";\nimport * as React from \"react\";\n\n\ninterface Props {\n  loading: boolean,\n  results: any[] | boolean,\n  children: React.ReactNode\n}\n\nfunction NoResult() {\n  return (\n    <Typography variant=\"h1\" style={{textAlign: 'center'}} >\n      <SentimentDissatisfiedIcon style={{fontSize: '6rem'}} />\n      <br />Oh no! There's no results.\n    </Typography>\n  );\n}\n\nexport function ResultLoader({loading, children, results}: Props) {\n  const classes = useStyles();\n\n  const empty = Array.isArray(results) ? results.length === 0 : !results;\n\treturn (\n    <>\n    {\n      loading || empty ?\n        <div className={classes.root}>\n          {loading ? <CircularProgress size={100} /> : <NoResult /> }\n        </div>\n        : children\n    }\n    </>\n  );\n}\n\nconst useStyles = makeStyles({\n\troot: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    height: \"100%\",\n\t},\n});\n","import { data as ssModuleData } from \"silverstripe-cms-meta\";\nimport { CategoryFilterType } from \"../reducers/filters\";\n\n/**\n * Determine if a module is within one of the provided category\n * @param moduleName\n * @param categoryFilters\n */\nexport function filterModuleByCategory(moduleName:string, categoryFilters: CategoryFilterType[]) {\n\tif (categoryFilters.length === 4) {\n\t\treturn true;\n\t}\n\n\tconst moduleMetaDada = ssModuleData.find((meta) => meta.repo === moduleName );\n\treturn moduleMetaDada ? (\n\t\t(categoryFilters.includes('core') && moduleMetaDada.core ) ||\n\t\t(categoryFilters.includes('supported') && moduleMetaDada.supported ) ||\n\t\t(categoryFilters.includes('unsupported') && !moduleMetaDada.supported )\n\t) : categoryFilters.includes('nonmodule');\n}\n","const removeNulls = <S>(value: S | undefined | null): value is S => value != null && value !== undefined;\n\n/**\n * Filter out branches that are not the latest. Branches that will be returned are:\n * - master/main\n * - the next minor release branch\n * - the last two patch release branches\n * @param branches\n * @param mod\n */\nexport function latestBranchFilter(branches: string[], mod: string): string[] {\n  let nextBranches: {\n\t\tnextMajor ?: string,\n\t\tnextMinor ?: string,\n\t\tnextPatch ?: string,\n\t\tpreviousPatch ?: string,\n\t} = { }\n\n\tif (branches.includes('master')) {\n\t\tnextBranches.nextMajor = 'master';\n\t} else if (branches.includes('main')) {\n\t\tnextBranches.nextMajor = 'main';\n\t}\n\n  const nextMinor = branches.filter(branch => branch.match(/^\\d+$/))\n\t\t.map(branch => parseInt(branch))\n    .reduce((a,b) => Math.max(a,b), 0);\n\n\tif (nextMinor) {\n\t\tnextBranches.nextMinor = nextMinor.toString();\n\t\tconst patches = branches\n      // Only look at the branches on the same release line as the next minor\n      .filter(branch => branch.match(new RegExp(`^${nextMinor}\\\\.\\\\d+$`)))\n      // Convert the subversion to an INT and sort\n      .map(branch => branch.replace(`${nextMinor}.`, '').trim())\n\t\t\t.map(branch => parseInt(branch)).sort()\n      // Only keep the last two entries\n      .slice(-2)\n      // Reconstruct the patch release branch\n\t\t\t.map(subVersion => `${nextMinor}.${subVersion}`);\n\n\t\tif (patches.length === 2) {\n\t\t\tnextBranches.nextPatch = patches[1];\n\t\t\tnextBranches.previousPatch = patches[0];\n\t\t} else if (patches.length === 1) {\n\t\t\tnextBranches.nextPatch = patches[0];\n\t\t}\n  }\n\n  return Object.values(nextBranches).filter(removeNulls);\n\n}\n","import { BranchData, BranchList, BuildStateType, Module } from \"../model\";\nimport { CategoryFilterType } from \"../reducers/filters\";\nimport { useSelector } from \"react-redux\";\nimport { RootState } from \"../reducers\";\nimport { useMemo } from \"react\";\nimport { filterModuleByCategory } from \"./filterModuleByCategory\";\nimport { latestBranchFilter } from \"./latestBranchFilter\";\nimport { ReleaseLine, releases, data as SSModules } from \"silverstripe-cms-meta\";\n\n\nconst statePriority: BuildStateType[][] = [\n\t['errored', 'failed'],\n\t['canceled'],\n\t['expired'],\n\t['running', 'created', 'started'],\n\t['passed']\n];\n\n/**\n * Sort states with the least desirable one showing up first.\n * @param a\n * @param b\n */\nfunction sortByState(a: BuildStateType, b: BuildStateType) {\n\tif (a === b) {\n\t\treturn 0;\n\t}\n\n\tfor (const stateGroups of statePriority) {\n\t\tif (stateGroups.indexOf(a) > -1) {\n\t\t\treturn -1;\n\t\t}\n\t\tif (stateGroups.indexOf(b) > -1) {\n\t\t\treturn 1;\n\t\t}\n\t}\n\n\treturn 0;\n}\n\n/**\n * Sort module by build state and then by name.\n * @param a\n * @param b\n */\nfunction sortModule(a: Module, b: Module) {\n\tif (a === b) {\n\t\treturn 0;\n\t}\n\tconst stateSort = sortByState(a.state, b.state);\n\treturn stateSort !== 0 ? stateSort : a.name.localeCompare(b.name);\n}\n\n/**\n * Filter out branches that are not the latest. Branches that will be returned are:\n * - master/main\n * - the next minor release branch\n * - the last two patch release branch\n * @param branches\n * @param mod\n */\nfunction moduleBranchFilter(branches: BranchList, mod: string): BranchList {\n\tconst filteredBranches = latestBranchFilter(\n    Object.keys(branches),\n    mod\n  );\n\n\treturn filteredBranches.reduce((nextBranches, key) => {\n\t\treturn key === undefined ?\n\t\t\tnextBranches :\n\t\t\t{...nextBranches, [key]: branches[key]}\n\t}, {});\n}\n\n/**\n * Filter a branch list to return only the branches that ship with a specific release\n * @param branches\n * @param repoName\n * @param releaseName\n * @returns\n */\nfunction moduleBranchFilterByReleaseLine(branches: BranchList, repoName: string, releaseName: string): BranchList {\n  const releaseLine: ReleaseLine = releases[releaseName]\n  if (!releaseLine) {\n    return {}\n  }\n\n  const module = SSModules.find(({repo}) => repo === repoName);\n  if (!module) {\n    return {}\n  }\n\n  const moduleVersion = releaseLine[module.name ?? module.repo]\n  if (!moduleVersion || !branches[moduleVersion]) {\n    return {}\n  }\n\n  return {\n    [moduleVersion]: branches[moduleVersion]\n  }\n}\n\n/**\n * Given a list of branches, find the worst \"state\". (e.g \"Running\" is worst than \"Passing\" and \"Failed\" is worst than \"running\")\n * This is use to attach a state to a given module.\n * @param accumulator\n * @param param1\n */\nfunction branchStateReduce(accumulator:BuildStateType, {state}:BranchData) {\n  return sortByState(accumulator, state) > 0 ? state : accumulator;\n}\n\nfunction postProcess(data: Module[], filter: string, categoryFilters: CategoryFilterType[], term: string) {\n  return data\n\t\t.filter(({name}) => filterModuleByCategory(name, categoryFilters))\n\t\t.filter(({name}) => (name.indexOf(term) !== -1))\n\t\t.map(({branches, ...data}) => ({\n\t\t\tbranches:\n        filter === 'latestStable' ? moduleBranchFilter(branches, data.name) :\n        filter === 'all' ? branches :\n        moduleBranchFilterByReleaseLine(branches, data.name, filter),\n\t\t\t...data\n\t\t}))\n\t\t.map(data => ({...data, state: Object.values(data.branches).reduce(branchStateReduce, 'passed')}))\n\t\t.sort((a, b) => sortModule(a, b));\n}\n\nexport function useBuilds() {\n  const {filters: {categoryFilters, filter, term}, builds} = useSelector((state: RootState) => state);\n\n  return {\n    ...builds,\n    modules: useMemo(\n      () => postProcess(builds.modules, filter, categoryFilters, term),\n      [builds.modules, categoryFilters, filter, term]\n    )\n  }\n\n}\n","import { useSelector } from \"react-redux\";\nimport { RootState } from \"../reducers\";\n\n/**\n * Determine if the user is currently typings something in the search box\n */\nexport function useSearching() {\n  const { partialTerm, term } = useSelector(({filters: {partialTerm, term}}: RootState) => ({partialTerm, term}));\n\n  return partialTerm !== term;\n\n}\n","import { Grid } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport * as React from \"react\";\nimport { Build } from \"../components\";\nimport { ResultLoader } from \"../components/ResultLoader\";\nimport { useBuilds } from \"../selectors/useBuilds\";\nimport { useSelector } from \"react-redux\";\nimport { RootState } from \"../reducers\";\nimport { useSearching } from \"../selectors/useSearching\";\n\nexport function HomePage() {\n\tconst classes = useStyles();\n  const {modules, loading} = useBuilds();\n  const isSearching = useSearching();\n  const { favourites } = useSelector(({favourites}: RootState) => ({favourites}));\n  const favModules = modules.filter(({name}) => favourites.includes(name));\n  const otherModules = modules.filter(({name}) => !favourites.includes(name));\n\n\treturn (\n  <ResultLoader loading={loading || isSearching} results={modules}>\n\t\t<div className={classes.root}>\n\n      {favModules.length > 0 && <Grid className={classes.centerContainer} container direction=\"row\" justify=\"center\" alignItems=\"stretch\" spacing={3}>\n\t\t\t\t{favModules.map( ({name, ...props}) => <Build key={name} name={name} {...props} />)}\n\t\t\t</Grid>}\n\n      {otherModules.length > 0 && <Grid className={classes.centerContainer} container direction=\"row\" justify=\"center\" alignItems=\"stretch\" spacing={3}>\n\t\t\t\t{otherModules.map( ({name, ...props}) => <Build key={name} name={name} {...props} />)}\n\t\t\t</Grid>}\n\t\t</div>\n  </ResultLoader>);\n}\n\nconst useStyles = makeStyles({\n\troot: {\n\t\ttextAlign: \"center\",\n\t\tpaddingTop: 20,\n\t\tpaddingLeft: 15,\n\t\tpaddingRight: 15,\n\t},\n\n\tcenterContainer: {\n    justifyContent: \"flex-start\",\n    marginBottom: 60\n\t},\n\n\tbutton: {\n\t\tmarginTop: 20,\n\t},\n});\n","import { makeStyles } from \"@material-ui/styles\";\nimport * as React from \"react\";\nimport { Doughnut } from 'react-chartjs-2';\nimport { buildStateColours } from '../components/BranchBuild';\nimport { ResultLoader } from \"../components/ResultLoader\";\nimport { BuildStateType } from \"../model\";\nimport { useStats } from \"../selectors/useStats\";\n\nconst labels: BuildStateType[] = [\n\t'failed',\n\t'canceled',\n\t'expired',\n\t'running',\n\t'passed'\n];\n\nconst backgroundColor = labels.map(state => buildStateColours[state]);\n\nfunction buildData(stats: {[state in BuildStateType]: number}) {\n\treturn {\n\t\tlabels,\n\t\tdatasets: [{\n\t\t\tdata: labels.map(label => stats[label]),\n\t\t\tbackgroundColor\n\t\t}]\n\t};\n}\n\n\nexport function StatsPage() {\n\tconst classes = useStyles();\n  const {stats, loading} = useStats();\n\n  const results = Object.values(stats).find(count => count > 0) !== undefined;\n\n\treturn (\n\t\t<ResultLoader loading={loading} results={results}>\n      <div className={classes.root}>\n        <Doughnut data={buildData(stats)} legend={false}  />\n      </div>\n    </ResultLoader>\n\t);\n}\n\nconst useStyles = makeStyles({\n\troot: {\n\t\ttextAlign: \"center\",\n\t\tpaddingTop: 20,\n\t\tpaddingLeft: 15,\n\t\tpaddingRight: 15,\n\t},\n\n\tcenterContainer: {\n\t\t// flex: 1,\n\t\t// height: \"90%\",\n\t\t// display: \"flex\",\n\t\t// alignItems: \"center\",\n\t\t// justifyContent: \"center\",\n\t\t// flexDirection: \"column\",\n\t},\n\n\tbutton: {\n\t\tmarginTop: 20,\n\t},\n});\n","import { useBuilds } from \"./useBuilds\";\n\nexport function useStats() {\n  const {loading, modules} = useBuilds();\n\n  const initStats = {\n\t\t'passed': 0,\n\t\t'errored': 0,\n\t\t'failed': 0,\n\t\t'running': 0,\n\t\t'expired': 0,\n\t\t'canceled': 0,\n\t\t'created': 0,\n\t\t'started': 0\n\t};\n\n\tconst stats =  modules.reduce((accumulator, module) => {\n\t\tObject.values(module.branches).forEach(branch => accumulator[branch.state]++);\n\t\treturn accumulator;\n  }, initStats);\n\n  return {stats, loading};\n}\n","import { useSelector } from \"react-redux\";\nimport { RootState } from \"../reducers\";\nimport { useMemo } from \"react\";\nimport { filterModuleByCategory } from \"./filterModuleByCategory\";\nimport { Comparaison, CompareEntry, CompareState } from \"../model\";\nimport { latestBranchFilter } from \"./latestBranchFilter\";\nimport { CategoryFilterType } from \"../reducers/filters\";\n\n/**\n * Which key to use on the comparaison as the branch name\n */\ntype BranchKey = 'head'|'base';\n\nfunction branchFilter(compares: Comparaison[], repo: string, branchKey: BranchKey): Comparaison[] {\n  const branches = latestBranchFilter(\n    compares.map((compare) => compare[branchKey]),\n    repo\n  );\n\n  return compares.filter((compare) => branches.includes(compare[branchKey]));\n}\n\nfunction sort(a: CompareEntry, b: CompareEntry) {\n  if (a.compares.length !== 0 && b.compares.length === 0) {\n    return -1;\n  }\n\n  if (a.compares.length === 0 && b.compares.length !== 0) {\n    return 1;\n  }\n\n  const aUpToDate = a.compares.find(({ahead_by}) => ahead_by > 0) === undefined;\n  const bUpToDate = b.compares.find(({ahead_by}) => ahead_by > 0) === undefined;\n\n  if (aUpToDate && !bUpToDate) {\n    return 1;\n  }\n\n  if (!aUpToDate && bUpToDate) {\n    return -1;\n  }\n\n  return a.repo.localeCompare(b.repo);\n}\n\n/**\n * Filter a comparaison list\n * @param compareList\n * @param filter\n * @param categoryFilters\n * @param term\n */\nfunction process(\n  compareList: CompareEntry[],\n  filter: string,\n  categoryFilters: CategoryFilterType[],\n  term: string,\n  branchKey: BranchKey\n) {\n  return compareList\n    .filter(({repo}) => filterModuleByCategory(repo, categoryFilters))\n    .filter(({repo}) => repo.includes(term))\n    .map(({compares, repo}) => {\n      return {\n        compares: filter === 'latestStable' ? branchFilter(compares, repo, branchKey) : compares,\n        repo\n      }\n    })\n    .sort(sort);\n}\n\n/**\n * Fetch and filter some comparaison data from the redux store\n * @param compareKey\n */\nexport function useCompares(compareKey: keyof RootState) {\n  const state = useSelector((state: RootState) => state);\n  const {filters: {categoryFilters, filter, term}} = state;\n  const {loading, compares} = state[compareKey] as CompareState;\n\n  // The main branch for merge up is on base, while it's on head for unrelease\n  const branchKey = compareKey === 'mergeups' ? 'base' : 'head';\n\n  return {\n    loading,\n    compares: useMemo(\n      () => process(compares, filter, categoryFilters, term, branchKey),\n      [compares, categoryFilters, filter, term, branchKey]\n    )\n  };\n\n}\n","import { makeStyles, Button } from \"@material-ui/core\";\nimport * as React from \"react\";\nimport { Comparaison } from \"../model\";\nimport { buildStateColours } from \"./BranchBuild\";\nimport classnames from \"classnames\";\n\ninterface Props extends Comparaison {\n\trepo: string\n}\n\nexport function MergeupBranch({repo, head, base, ahead_by}: Props) {\n\n  const classes = useStyles();\n  const upToDate = ahead_by === 0;\n  const status = upToDate ? 'up-to-date' : `ahead by ${ahead_by} commit${ahead_by > 1 ? 's' : ''}`;\n\n\treturn (\n    <Button\n\t\t  href={`https://github.com/${repo}/compare/${base}...${head}`}\n      className={classnames(classes.root, {[classes.expired]: !upToDate})}\n      variant={upToDate ? \"outlined\" : undefined}>\n        <span className={classes.range}>{base}...{head}</span>\n        <span>{status}</span>\n    </Button>\n  );\n}\n\nconst useStyles = makeStyles(({\n\troot: {\n    margin: '0 8px 8px 0',\n    flexGrow: 1,\n    textDecoration: 'none',\n    width: '100%'\n  },\n  expired: {\n    background: buildStateColours.expired,\n    \"&:hover\": {\n      background: buildStateColours.expired,\n    }\n  },\n  range: {\n    flexGrow: 1,\n    textAlign: 'left'\n  }\n}));\n","import { makeStyles, Theme } from \"@material-ui/core\";\nimport * as React from \"react\";\nimport { CompareEntry } from \"../model\";\nimport { MergeupBranch } from \"./MergeupBranch\";\nimport { ModuleCard } from \"./ModuleCard\";\n\nexport function Mergeup({repo, compares}: CompareEntry) {\n  const classes = useStyles({});\n\treturn (\n\t\t<ModuleCard name={repo} url={`https://github.com/${repo}`} className={classes.box}>\n      { <div className={classes.cardActions}>\n          {compares.map((compare) => <MergeupBranch key={`${compare.base}..${compare.head}`} repo={repo} {...compare}/>)}\n\t\t\t\t</div>}\n    </ModuleCard>\n\t);\n}\n\nconst useStyles = makeStyles((theme: Theme) => ({\n\tbox: (props: any) => ({\n\n\t}),\n\n\tbranchBtn: {\n\t\tmargin: '0 8px 8px 0',\n\t\tflexGrow: 1\n\t},\n\n\tcardActions: {\n\t\tflexWrap: 'wrap',\n\t\tdisplay: 'flex'\n  },\n}));\n","import { Grid } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport * as React from \"react\";\nimport { ResultLoader } from \"../components/ResultLoader\";\nimport { useSelector } from \"react-redux\";\nimport { RootState } from \"../reducers\";\nimport { useSearching } from \"../selectors/useSearching\";\nimport { useCompares } from \"../selectors/useCompares\";\nimport { useActions } from \"../actions\";\nimport { Mergeup } from \"../components/Mergeup\";\n\ninterface Props {\n  /** Which state to use when retireving comparaison data */\n  stateKey: keyof RootState\n  /** Redux action to fire once the page is access */\n  initAction: () => any\n}\n\n/**\n * This component is use for both the unrelease and mergeup tab, because their underlying data structure is the same\n */\nexport function ComparePage({stateKey, initAction}: Props) {\n  const { initData } = useActions({initData: initAction});\n  React.useEffect( initData, [] );\n\tconst classes = useStyles();\n  const isSearching = useSearching();\n  const {loading, compares} = useCompares(stateKey);\n  const { favourites } = useSelector(({favourites}: RootState) => ({favourites}));\n  const favModules = compares.filter(({repo}) => favourites.includes(repo));\n  const otherModules = compares.filter(({repo}) => !favourites.includes(repo));\n\n\treturn (\n  <ResultLoader loading={loading || isSearching} results={compares}>\n\t\t<div className={classes.root}>\n\n      {favModules.length > 0 && <Grid className={classes.centerContainer} container direction=\"row\" justify=\"center\" alignItems=\"stretch\" spacing={3}>\n\t\t\t\t{favModules.map( ({repo, ...props}) => <Mergeup key={repo} repo={repo} {...props} />)}\n\t\t\t</Grid>}\n\n      {otherModules.length > 0 && <Grid className={classes.centerContainer} container direction=\"row\" justify=\"center\" alignItems=\"stretch\" spacing={3}>\n\t\t\t\t{otherModules.map( ({repo, ...props}) => <Mergeup key={repo} repo={repo} {...props} />)}\n\t\t\t</Grid>}\n\t\t</div>\n  </ResultLoader>);\n}\n\nconst useStyles = makeStyles({\n\troot: {\n\t\ttextAlign: \"center\",\n\t\tpaddingTop: 20,\n\t\tpaddingLeft: 15,\n\t\tpaddingRight: 15,\n\t},\n\n\tcenterContainer: {\n    justifyContent: \"flex-start\",\n    marginBottom: 60\n\t},\n\n\tbutton: {\n\t\tmarginTop: 20,\n\t},\n});\n","import { genericHttpAction, CompareDataPayload, ActionType } from \"./genericHttpAction\";\n\nexport enum MergeupActions {\n  LOADING = \"LOADING_MERGEUP\",\n  LOADED = \"MERGEUP_LOADED\"\n}\n\nexport type MergeupAction =\n  | ActionType<typeof MergeupActions.LOADING, void>\n  | ActionType<typeof MergeupActions.LOADED, CompareDataPayload>\n;\n\nexport const initMergeupData = genericHttpAction(\n  'mergeup',\n  MergeupActions.LOADING,\n  MergeupActions.LOADED\n);\n","import { genericHttpAction, CompareDataPayload, ActionType } from \"./genericHttpAction\";\n\nexport enum UnreleaseActions {\n  LOADING = \"LOADING_UNRELEASE\",\n  LOADED = \"UNRELEASE_LOADED\"\n}\n\nexport type UnreleaseAction =\n  | ActionType<typeof UnreleaseActions.LOADING, void>\n  | ActionType<typeof UnreleaseActions.LOADED, CompareDataPayload>\n;\n\nexport const initUnreleaseData = genericHttpAction(\n  'unrelease',\n  UnreleaseActions.LOADING,\n  UnreleaseActions.LOADED\n);\n","// prettier-ignore\nimport { Theme } from \"@material-ui/core/styles\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport * as React from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\nimport { HomePage, StatsPage } from \"./pages\";\nimport { ComparePage } from \"./pages/ComparePage\";\nimport { initMergeupData } from \"./actions/mergeups\";\nimport { initUnreleaseData } from \"./actions/unrelease\";\n\nexport function Routes() {\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Switch>\n\t\t\t\t<Route exact path=\"/\" component={HomePage} />\n\t\t\t\t<Route path=\"/home\" component={HomePage} />\n        <Route path=\"/mergeups\">\n          <ComparePage stateKey=\"mergeups\" initAction={initMergeupData} />\n        </Route>\n        <Route path=\"/unreleases\">\n          <ComparePage stateKey=\"unreleases\" initAction={initUnreleaseData} />\n        </Route>\n\t\t\t\t<Route path=\"/stats\" component={StatsPage} />\n\t\t\t</Switch>\n\t\t</div>\n\t);\n}\n\nconst useStyles = makeStyles((theme: Theme) => ({\n\troot: {\n\t\tbackgroundColor: theme.palette.background.default,\n\t\toverflow: 'auto',\n\t\twidth: \"100%\",\n\t\theight: \"calc(100% - 56px)\",\n\t\tmarginTop: 56,\n\t\t[theme.breakpoints.up(\"sm\")]: {\n\t\t\theight: \"calc(100% - 64px)\",\n\t\t\tmarginTop: 64,\n\t\t},\n\t},\n}));\n","// prettier-ignore\nimport { AppBar, IconButton, Toolbar, useMediaQuery, Drawer as DrawerMui } from \"@material-ui/core\";\nimport { Theme } from \"@material-ui/core/styles\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport * as React from \"react\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { withRoot } from \"./withRoot\";\nimport { useActions } from \"./actions\";\nimport * as BuildActions from \"./actions/build\";\nimport * as FavActions from \"./actions/favourite\";\nimport { Drawer } from './components/Drawer';\nimport { BuildForm} from \"./components/Form/BuildForm\";\n\nimport { Routes } from './Routes';\n\n\nfunction App() {\n  const buildActions = useActions(BuildActions);\n  const { initFavourite } = useActions(FavActions);\n\tReact.useEffect( () => {\n    buildActions.initBuildData();\n    initFavourite();\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, []);\n\n\tconst classes = useStyles();\n\tconst [mobileOpen, setMobileOpen] = React.useState(false);\n\n\tconst isMobile = useMediaQuery((theme: Theme) =>\n\t\ttheme.breakpoints.down(\"sm\")\n\t);\n\n\tconst handleDrawerToggle = () => {\n\t\tsetMobileOpen(!mobileOpen);\n\t};\n\n\treturn (\n\t\t<BrowserRouter basename={process.env.PUBLIC_URL}>\n\t\t\t<div className={classes.root}>\n\t\t\t\t<div className={classes.appFrame}>\n          <nav>\n            <DrawerMui\n              variant={isMobile ? \"temporary\" : \"permanent\"}\n              open={!isMobile || mobileOpen}\n              onClose={() => setMobileOpen(false)}\n              classes={{\n                root: classes.drawerRoot,\n                paper: classes.drawerPaper\n              }}\n              ModalProps={{\n                keepMounted: true, // Better open performance on mobile.\n              }}\n            >\n              {/* <Typography variant=\"h6\">Silverstripe CMS Squad Dashboard</Typography> */}\n              <Drawer />\n            </DrawerMui>\n          </nav>\n\t\t\t\t\t<AppBar className={classes.appBar} >\n\t\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\tcolor=\"inherit\"\n\t\t\t\t\t\t\t\taria-label=\"open drawer\"\n\t\t\t\t\t\t\t\tonClick={handleDrawerToggle}\n\t\t\t\t\t\t\t\tclassName={classes.navIconHide}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<MenuIcon />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t<BuildForm className={classes.appForm} />\n\t\t\t\t\t\t</Toolbar>\n\t\t\t\t\t</AppBar>\n\t\t\t\t\t<Routes />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</BrowserRouter>\n\t);\n}\n\nconst drawerWidth = 240;\nconst useStyles = makeStyles((theme: Theme) => ({\n\troot: {\n\t\twidth: \"100%\",\n\t\theight: \"100%\",\n\t\tzIndex: 1,\n\t\toverflow: \"hidden\",\n\t},\n\tappFrame: {\n\t\tposition: \"relative\",\n\t\tdisplay: \"flex\",\n\t\twidth: \"100%\",\n\t\theight: \"100%\",\n\t},\n\tappBar: {\n\t\tzIndex: theme.zIndex.drawer + 1,\n    position: \"absolute\",\n    [theme.breakpoints.up(\"md\")]: {\n      width: 'calc(100% - 240px)'\n    }\n\t},\n\tappForm: {\n\t\tflexGrow: 1\n\t},\n\tnavIconHide: {\n\t\t[theme.breakpoints.up(\"md\")]: {\n\t\t\tdisplay: \"none\",\n\t\t},\n\t},\n\tdrawerPaper: {\n\t    width: 250,\n      backgroundColor: theme.palette.background.default,\n      [theme.breakpoints.up(\"md\")]: {\n              width: drawerWidth,\n              position: \"relative\",\n              height: \"100%\",\n      },\n\t},\n  drawerRoot: {\n    height: \"100%\",\n  }\n}));\n\nexport default withRoot(App);\n","/**\n * Created by toni on 12.03.2017.\n */\nimport { Reducer } from \"redux\";\nimport { Action } from \"../actions\";\n\nexport default function createReducer<S>(\n\tinitialState: S,\n\thandlers: any\n): Reducer<S> {\n\tconst r = (state: S = initialState, action: Action): S => {\n\t\tif (handlers.hasOwnProperty(action.type)) {\n\t\t\treturn handlers[action.type](state, action);\n\t\t} else {\n\t\t\treturn state;\n\t\t}\n\t};\n\n\treturn r as Reducer<S>;\n}\n","import { BuildState } from \"../../model\";\n\n/**\n * Inital state of the Build State\n */\nexport const initialState: BuildState = {\n\tmodules: [],\n\tloading: true\n};\n","import { BuildAction, BuildActions, BuildDataPayload } from \"../../actions/build\";\nimport { BranchData, BuildData, BuildState} from \"../../model\";\nimport createReducer from \"../createReducer\";\nimport { initialState } from \"./initalState\";\n\n/**\n * Create an artificial state of expired for builds that haven't run in more than 30 days.\n * @param data\n */\nfunction markExpiredBuild(data: BranchData): BranchData {\n  if (!data || data.state !== 'passed') {\n\t  return data;\n  }\n\n  const buildDate = new Date(data.started_at);\n  const now = new Date();\n  const expiry = new Date();\n  expiry.setDate(now.getDate() - 30);\n\n  return (buildDate < expiry) ? {...data, state: 'expired'} : data;\n}\n\nfunction postProcess(data: BuildData) {\n\treturn Object.keys(data)\n\t\t.map(module => ({\n\t\t\tbranches: data[module],\n\t\t\tname: module,\n\t\t}))\n\t\t.map(({branches, ...data}) => {\n\t\t\tfor (const key in branches) {\n\t\t\t\tbranches[key] = markExpiredBuild(branches[key]);\n\t\t\t}\n\t\t\treturn {branches, ...data};\n\t\t})\n}\n\nexport const builds = createReducer<BuildState>(initialState, {\n\t[BuildActions.LOADING_BUILDS]() {\n\t\treturn initialState;\n\t},\n\t[BuildActions.BUILD_LOADED](state: BuildState, action: BuildAction) {\n    const {json, lastModified} = action.payload as BuildDataPayload;\n\t\treturn {\n\t\t\t...state,\n\t\t\tmodules: postProcess(json),\n\t\t\tlastModified,\n\t\t\tloading: false\n\t\t};\n\t}\n});\n","import { Action, Actions, SetCatPayload, SetFilterPayload, SetTermPayload } from \"../actions/filter\";\nimport createReducer from \"./createReducer\";\n\nexport type CategoryFilterType = 'core'|'supported'|'unsupported'|'nonmodule';\n\nexport interface FilterState {\n\tfilter: string,\n  term: string,\n  partialTerm: string,\n\ttriggerSearchTimeout?: NodeJS.Timeout,\n  categoryFilters: CategoryFilterType[],\n  dialogOpen: boolean\n}\n\n/**\n * Inital state of the Build State\n */\nconst initialState: FilterState = {\n\tfilter: 'latestStable',\n  term: '',\n  partialTerm: '',\n  categoryFilters: ['core', 'nonmodule', 'supported', 'unsupported'],\n  dialogOpen: false\n};\n\n\nexport const filters = createReducer<FilterState>(initialState, {\n\t[Actions.SET_FILTER](state: FilterState, action: Action) {\n    console.dir(action)\n    const {filter} = action.payload as SetFilterPayload;\n\t\treturn {\n\t\t\t...state,\n\t\t\tfilter\n\t\t};\n\t},\n  [Actions.TOGGLE_DIALOG]({dialogOpen, ...state}: FilterState) {\n\t\treturn {\n\t\t\t...state,\n\t\t\tdialogOpen: !dialogOpen\n\t\t};\n\t},\n  [Actions.CLEAR_FILTERS]() {\n\t\treturn initialState;\n\t},\n\t[Actions.SET_TERM](state: FilterState, action: Action) {\n\t\tstate.triggerSearchTimeout && clearTimeout(state.triggerSearchTimeout);\n\n\t\tconst {term, triggerSearchTimeout} =  action.payload as SetTermPayload;\n\t\treturn {\n\t\t\t...state,\n\t\t\tpartialTerm: term.toLocaleLowerCase(),\n      triggerSearchTimeout,\n\t\t};\n\t},\n\t[Actions.TRIGGER_SEARCH](state: FilterState) {\n\t\treturn {\n\t\t\t...state,\n\t\t\tterm: state.partialTerm\n\t\t};\n\t},\n\t[Actions.SET_CATEGORY_FILTER](state: FilterState, action: Action) {\n\t\tconst {categoryFilters} = action.payload as SetCatPayload;\n\t\treturn {...state, categoryFilters};\n\t}\n});\n","import { CompareDataPayload } from \"../actions/genericHttpAction\";\nimport { MergeupAction } from \"../actions/mergeups\";\nimport { CompareState} from \"../model\";\nimport createReducer from \"./createReducer\";\n\n/**\n * Inital state of the Build State\n */\nexport const initialState: CompareState = {\n\tcompares: [],\n\tloading: true\n};\n\n/**\n * Use to generate the reducer for unrelease and mergeups\n */\nexport function compareReducer(loadingAction: string, loadedAction: string) {\n  return createReducer<CompareState>(initialState, {\n    [loadingAction]() {\n      return initialState;\n    },\n    [loadedAction](state: CompareState, action: MergeupAction) {\n      const {json, lastModified} = action.payload as CompareDataPayload;\n      return {\n        ...state,\n        compares: json,\n        lastModified: lastModified,\n        loading: false\n      };\n    }\n  })\n}\n","import { MergeupActions } from \"../actions/mergeups\";\nimport { compareReducer } from \"./compare\";\n\nexport const mergeups = compareReducer(MergeupActions.LOADING, MergeupActions.LOADED);\n","import { UnreleaseActions } from \"../actions/unrelease\";\nimport { compareReducer } from \"./compare\";\n\nexport const unreleases = compareReducer(UnreleaseActions.LOADING, UnreleaseActions.LOADED);\n","import { Action, Actions } from \"../actions/favourite\";\nimport createReducer from \"./createReducer\";\n\n\nexport type FavouriteState = string[];\n\nconst initialState: FavouriteState = [];\n\n\nexport const favourites = createReducer<FavouriteState>(initialState, {\n\t[Actions.INIT_FAV](state: FavouriteState, action: Action) {\n    return action.payload || [];\n\t},\n});\n","import { createBrowserHistory } from \"history\";\nimport * as localforage from \"localforage\";\nimport { applyMiddleware, createStore } from \"redux\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport { createLogger } from \"redux-logger\";\nimport { PersistConfig, persistReducer, persistStore } from \"redux-persist\";\nimport thunk from \"redux-thunk\";\nimport rootReducer from \"./reducers\";\n\nconst persistConfig: PersistConfig<any> = {\n\tkey: \"root\",\n\tversion: 1,\n\tstorage: localforage,\n\tblacklist: [],\n};\n\nconst logger = (createLogger as any)();\nconst history = createBrowserHistory();\n\nconst dev = process.env.NODE_ENV === \"development\";\n\nlet middleware = dev ? applyMiddleware(thunk, logger) : applyMiddleware(thunk);\n\nif (dev) {\n\tmiddleware = composeWithDevTools(middleware);\n}\n\nconst persistedReducer = persistReducer(persistConfig, rootReducer(history));\n\nexport default () => {\n\tconst store = createStore(persistedReducer, {}, middleware) as any;\n\tconst persistor = persistStore(store);\n\treturn { store, persistor };\n};\n\nexport { history };\n","import { History } from \"history\";\nimport { combineReducers } from \"redux\";\nimport { BuildState, CompareState } from \"../model\";\nimport { builds } from \"./Build/reducer\";\nimport { filters, FilterState } from \"./filters\";\nimport { mergeups } from \"./mergeups\";\nimport { unreleases } from \"./unreleases\";\nimport { favourites, FavouriteState } from \"./favourites\";\n\nexport interface RootState {\n  builds: BuildState\n  filters: FilterState\n  favourites: FavouriteState,\n  mergeups: CompareState,\n  unreleases: CompareState,\n}\n\nexport default (history: History) =>\n\tcombineReducers({\n    builds,\n    filters,\n    favourites,\n    mergeups,\n    unreleases\n\t});\n","import { Typography } from \"@material-ui/core\";\nimport * as React from \"react\";\nimport { Provider } from \"react-redux\";\nimport { PersistGate } from \"redux-persist/integration/react\";\nimport App from \"./App\";\nimport configureStore from \"./configureStore\";\n\nconst { persistor, store } = configureStore();\n\nexport function ReduxRoot() {\n\treturn (\n\t\t<Provider store={store}>\n\t\t\t<PersistGate\n\t\t\t\tloading={<Typography>Loading...</Typography>}\n\t\t\t\tpersistor={persistor}\n\t\t\t>\n\t\t\t\t<App />\n\t\t\t</PersistGate>\n\t\t</Provider>\n\t);\n}\n","import * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\nimport { ReduxRoot } from \"./ReduxRoot\";\n\nconst rootEl = document.getElementById(\"root\");\nReactDOM.render(<ReduxRoot />, rootEl);\n\n// comment in for PWA with service worker in production mode\n// registerServiceWorker();\n"],"sourceRoot":""}